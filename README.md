# tiny-rpc

## 1. 前言
我刚开始实习的时候，发现企业项目中，内部服务之间的协议使用的是 rpc 协议， 而不是我们熟知的 http 协议。

刚开始对于 rpc 协议还有一些懵逼，后来才了解到 rpc 也是基于传输层（tcp/udp协议）进行数据传输的应用层协议。那么问题来了，为什么企业项目中，使用的基本上是 rpc 协议？与 http 协议相比较有什么优势吗？基于这个疑问出发，我开始学习了解 rpc 底层工作的原理。

为了能够更好地学习和掌握 rpc，我决定手撕一个 rpc 框架。取名为 `tiny-rpc`.
## 2. 整体架构
rpc 全称: `Remote Procedure Call`，即远程过程调用，能够做到像调用本地服务一样去调用远程函数，屏蔽远程调用的复杂性。

### 2.1 代理层
思考一下：我们在使用 http 协议去调用远端服务的时候，需要先明确好调用域名、接口路径、请求方式，然后组装请求参数发起网络调用，等待响应结果。相比较调用本地方法，还需要做这一系列的组装步骤才能成功发起一个请求。

在 rpc 框架中，需要有一个模块来帮我们统一封装远端服务的信息，这个模块就是代理层。

#### 2.1.1 服务端代理
对于服务端来说，代理层需要实现
#### 2.1.2 客户端代理

### 2.2 注册中心
rpc 在调用的时候不需要指定域名，不进行 dns 解析，那 client 是如何发现能够提供服务的 server ip:port 的呢？

### 2.2 服务治理


### 2.1 整体框架图
#### 2.1.1 
## 3. 代码实现
## 4. 可优化点
## 5. 后续